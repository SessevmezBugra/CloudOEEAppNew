<mvc:View displayBlock="true" controllerName="workerapp.components.factory.components.maindata.controller.AssetDetail" height="100%" 
    xmlns="sap.uxap" 
    xmlns:mvc="sap.ui.core.mvc" 
    xmlns:m="sap.m" 
    xmlns:f="sap.f" 
    xmlns:l="sap.ui.layout" 
    xmlns:form="sap.ui.layout.form">

    <ObjectPageLayout id="ObjectPageLayout" showFooter="true" 
    backgroundDesignAnchorBar="Transparent" showTitleInHeaderContent="true" 
    alwaysShowContentHeader="true" preserveHeaderStateOnScroll="false" 
    headerContentPinnable="true" isChildPage="true" upperCaseAnchorBar="false">
        <headerTitle>
            <ObjectPageDynamicHeaderTitle backgroundDesign="Transparent">
                <expandedHeading>
                    <m:Title text="{maindataModel>/assetInfo/plantName}" wrapping="true" class="sapUiSmallMarginEnd"/>
                </expandedHeading>
                <snappedHeading>
                    <m:FlexBox fitContainer="true" alignItems="Center">
                        <m:Title text="{maindataModel>/assetInfo/plantName}" wrapping="true" class="sapUiSmallMarginEnd"/>
                    </m:FlexBox>
                </snappedHeading>

                <navigationActions>
                    <m:OverflowToolbarButton type="Transparent" icon="sap-icon://decline" press="handleClose" tooltip="Close column" />
                </navigationActions>

            </ObjectPageDynamicHeaderTitle>
        </headerTitle>

        <sections>
            <ObjectPageSection title="{i18n>ASSETDETAIL_WAREHOUSES}">
                <subSections>
                    <ObjectPageSubSection >
                        <blocks>
                            <l:BlockLayout background="Dashboard">
                                <l:BlockLayoutRow>
                                    <l:BlockLayoutCell>
                                        <m:Table id="warehouseTable" backgroundDesign="Solid" width="auto" items="{maindataModel>/warehouses}" enableBusyIndicator="false" busy="{orderModel>/warehouseTableBusy}">
                                            <m:columns>
                                                <m:Column minScreenWidth="Tablet" demandPopin="true">
                                                    <m:Text text="{i18n>ASSETDETAIL_WAREHOUSE_NAME}" />
                                                </m:Column>
                                            </m:columns>
                                            <m:items>
                                                <m:ColumnListItem >
                                                    <m:cells>
                                                        <m:ObjectIdentifier text="{maindataModel>warehouseName}" />
                                                    </m:cells>
                                                </m:ColumnListItem>
                                            </m:items>
                                        </m:Table>
                                    </l:BlockLayoutCell>
                                </l:BlockLayoutRow>
                            </l:BlockLayout>
                        </blocks>
                    </ObjectPageSubSection>
                </subSections>
            </ObjectPageSection>
            <ObjectPageSection title="{i18n>ASSETDETAIL_MATERIALS}">
                <subSections>
                    <ObjectPageSubSection >
                        <blocks>
                            <l:BlockLayout background="Dashboard">
                                <l:BlockLayoutRow>
                                    <l:BlockLayoutCell>
                                        <m:Table id="materialTable" backgroundDesign="Solid" width="auto" items="{maindataModel>/materials}" enableBusyIndicator="false" busy="{maindataModel>/materialTableBusy}">
                                            <m:columns>
                                                <m:Column minScreenWidth="Tablet" demandPopin="true">
                                                    <m:Text text="{i18n>ASSETDETAIL_MATERIAL_DESC}" />
                                                </m:Column>
                                                <m:Column minScreenWidth="Tablet" demandPopin="true">
                                                    <m:Text text="{i18n>ASSETDETAIL_MATERIAL_NUMBER}" />
                                                </m:Column>
                                            </m:columns>
                                            <m:items>
                                                <m:ColumnListItem >
                                                    <m:cells>
                                                        <m:ObjectIdentifier text="{maindataModel>materialDesc}" />
                                                    </m:cells>
                                                    <m:cells>
                                                        <m:ObjectIdentifier text="{maindataModel>materialNumber}" />
                                                    </m:cells>
                                                </m:ColumnListItem>
                                            </m:items>
                                        </m:Table>
                                    </l:BlockLayoutCell>
                                </l:BlockLayoutRow>
                            </l:BlockLayout>
                        </blocks>
                    </ObjectPageSubSection>
                </subSections>
            </ObjectPageSection>
        </sections>
        <footer>
			<m:OverflowToolbar>
				<m:ToolbarSpacer />
				<m:Button press="openCreateWarehouseDialog" type="Accept" text="{i18n>ASSETDETAIL_BTN_CREATE_WAREHOUSE}"/>
				<m:Button press="openCreateMaterialDialog" type="Accept" text="{i18n>ASSETDETAIL_BTN_CREATE_MATERIAL}"/>
			</m:OverflowToolbar>
		</footer>
    </ObjectPageLayout>
</mvc:View>